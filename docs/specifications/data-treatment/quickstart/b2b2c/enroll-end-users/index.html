<!DOCTYPE html>
<html lang="en">
<head>
    <title>Enroll End-Users | Quickstart | Specifications DATA-TREATMENT</title>
    <!-- OPEN GRAPH -->
    <meta property="og:locale" content="en_US">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Enroll End-Users | Quickstart | Specifications DATA-TREATMENT">
    <meta property="og:url" content="/mph05/ApiSpec/specifications/data-treatment/quickstart/b2b2c/enroll-end-users/">
    <meta property="og:image" content="/mph05/ApiSpec/assets/images/logo-groupe-psa.jpg" />
    <meta property="og:site_name" content="Stellantis API portal">
    <meta property="og:description" content="End Users should give access to their data (enrollment)if they want to use a developer app.">
    <link rel="icon" type="image/png" href="/mph05/ApiSpec/favicon.png" />
    <!-- TWITTER CARD -->
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:title" content="Enroll End-Users | Quickstart | Specifications DATA-TREATMENT">
    <meta name="twitter:description" content="End Users should give access to their data (enrollment)if they want to use a developer app.">
    <meta name="twitter:card" content="summary">
    <meta itemprop="description" name="description" content="End Users should give access to their data (enrollment)if they want to use a developer app." />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv='Content-Type' content='text/html; charset=utf-8' />
    <link rel="canonical" href="/mph05/ApiSpec/specifications/data-treatment/quickstart/b2b2c/enroll-end-users/">
    <!-- MAIN CSS -->
    <link rel="stylesheet" href="/mph05/ApiSpec/assets/css/main.css">
    <!-- FONTs -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous"><link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@400;500;700&family=Montserrat:wght@400;500;600;700&family=Roboto:wght@300;400;500&family=Lora:ital,wght@0,400;0,500;1,400;1,500&display=swap" rel="stylesheet">
    <!-- COMPONENTs CSS -->
    <link rel="stylesheet" href="/mph05/ApiSpec/assets/css/modules/api-reference.css">
    <!-- LIBRARIEs --><!-- SCRIPTs-->
    <script src="/mph05/ApiSpec/assets/js/dropdown.js"></script>
    <script src="/mph05/ApiSpec/assets/js/main.js"></script>
<body>
    <section class="hero hero-header is-medium hero_api">
        <div class="hero-head">
            <nav aria-label="main navigation" class="navbar is-fixed-top" id="navbarpsa" role="navigation">
    <div class="navbar-brand">
        <a class="navbar-item" href="/mph05/ApiSpec/">
            <div id="logoPG4D">
                <img alt="logo-pg4d" src="/mph05/ApiSpec/assets/images/logo-pg4d.svg">
            </div>
        </a>
        <a aria-expanded="false" aria-label="menu" class="navbar-burger" data-target="navMenu" role="button">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
        </a>
    </div>
    <div class="navbar-menu" id="navMenu">
        <div class="navbar-start">
            
                
                <div class="navbar-item menu has-dropdown is-hoverable">
                    <a class="textnavbar navbar-link " href="/mph05/ApiSpec/connected-vehicles/">
                        <span class="icon is-large is-white">
                            <i class="fas fa-wifi"></i>
                        </span>
                        <span class="section-name">
                            Connected Vehicles
                        </span>
                    </a>
                    <div class="navbar-dropdown" id="dropdownAPI">
                        <p href="/mph05/ApiSpec/connected-vehicles/overview/#article" class="navbar-item dropdown-title " id="overviews" onclick="navClick(document.getElementById('overviews'), 'overviews');">
                                <span>
                                    OVERVIEW
                                </span>
                                <span>
                                    <svg class="arrow arrow-right" version="1.1" viewBox="0 0 24 24" x="0" xmlns="http://www.w3.org/2000/svg" y="0" aria-hidden="true"><polygon points="17.3 8.3 12 13.6 6.7 8.3 5.3 9.7 12 16.4 18.7 9.7 "></polygon>
                                    </svg>
                                </span>
                            </p>
                            
                            <a id="overviews" class=" navbar-item " href="/mph05/ApiSpec/connected-vehicles/overview/about/#article">
                                            About
                                        </a>
                                    <a id="overviews" class=" navbar-item " href="/mph05/ApiSpec/connected-vehicles/overview/remotes-control/#article">
                                            Remotes Control
                                        </a>
                                    <a id="overviews" class=" navbar-item " href="/mph05/ApiSpec/connected-vehicles/overview/monitoring-notification/#article">
                                            Monitoring & Notification
                                        </a>
                                    </div>
                </div>
                
            
                
                <div class="navbar-item menu has-dropdown is-hoverable">
                    <a class="textnavbar navbar-link is-active" href="/mph05/ApiSpec/specifications/">
                        <span class="icon is-large is-white">
                            <i class="fas fa-cloud"></i>
                        </span>
                        <span class="section-name">
                            Cloud API
                        </span>
                    </a>
                    <div class="navbar-dropdown" id="dropdownAPI">
                        <p href="/mph05/ApiSpec/specifications/data-treatment/#article" class="navbar-item dropdown-title is-default is-active" id="data-treatment" onclick="navClick(document.getElementById('data-treatment'), 'data-treatment');">
                                <span>
                                    
                                </span>
                                <span>
                                    <svg class="arrow arrow-down" version="1.1" viewBox="0 0 24 24" x="0" xmlns="http://www.w3.org/2000/svg" y="0" aria-hidden="true"><polygon points="17.3 8.3 12 13.6 6.7 8.3 5.3 9.7 12 16.4 18.7 9.7 "></polygon>
                                    </svg>
                                </span>
                            </p>
                            
                            <a id="data-treatment" class=" is-default-subsection  navbar-item " href="/mph05/ApiSpec/specifications/data-treatment/overview/about/#article">
                                        Overview
                                    </a><a id="data-treatment" class=" is-default-subsection  navbar-item " href="/mph05/ApiSpec/specifications/data-treatment/monitor/about-monitors/#article">
                                        Monitor
                                    </a><a id="data-treatment" class=" is-default-subsection  navbar-item " href="/mph05/ApiSpec/specifications/data-treatment/remote/about-remotes/#article">
                                        Remote
                                    </a><a id="data-treatment" class=" is-default-subsection  navbar-item " href="/mph05/ApiSpec/specifications/data-treatment/quickstart/b2b/auth/#article">
                                        Partners
                                    </a><a id="data-treatment" class=" is-default-subsection  navbar-item is-active" href="/mph05/ApiSpec/specifications/data-treatment/quickstart/b2b2c/about-authentication/#article">
                                        ExVe (Extended Vehicle)
                                    </a><a id="data-treatment" class=" is-default-subsection  navbar-item is-active" href="/mph05/ApiSpec/specifications/data-treatment/api-reference/#article">
                                        API Reference
                                    </a></div>
                </div>
                
            
                
            
        </div>
        <!-- SEARCH -->
        <div class="navbar-end">
            <div class="textnavbar navbar-item menu">
                <form  action="/mph05/ApiSpec/search/" method="get">
                    <div class="field" id="search-input">
                        <p class="control has-icons-left">
                            <input type="text" class="input" id="lunrsearch_redirect" name="q" maxlength="255" value="" placeholder="Search" />
                            <span class="icon is-small is-left">
                                <i class="fas fa-search" ></i>
                            </span>
                        </p>
                    </div>
                </form>
            </div>
        </div>
    </div>
</nav>
<script>

// MENU FIX


var mq = window.matchMedia( "(max-width: 1088px)" );

var currentNavMenu = document.querySelector("#navbarpsa #dropdownAPI  > .dropdown-title.is-default.is-active");

var currentNavSubMenu = document.querySelectorAll("#navbarpsa #dropdownAPI  > .navbar-item.is-default-subsection");

function navClick (clickedNavMenu, id) {
    if (mq.matches) {
        if (currentNavMenu == clickedNavMenu) {
            currentNavMenu.classList.remove("is-active");
            currentNavMenu.querySelector("svg").classList.replace("arrow-down", "arrow-right");
            currentNavSubMenu.forEach(element => {
                element.style.display = "none";
            });
            currentNavSubMenu = null;
            currentNavMenu = null;
        }
        else {
            if (currentNavMenu){
                currentNavMenu.querySelector("svg").classList.replace("arrow-down", "arrow-right");
                currentNavMenu.classList.remove("is-active");
                currentNavSubMenu.forEach(element => {
                    element.style.display = "none";
                });
            }
            clickedNavMenu.querySelector("svg").classList.replace("arrow-right", "arrow-down");
            clickedNavMenu.classList.add("is-active");
            currentNavSubMenu = document.querySelectorAll("#navbarpsa #dropdownAPI  > .navbar-item#"+id+":not(.dropdown-title)");
            currentNavSubMenu.forEach(element => {
                element.style.display = "block";
            });
            currentNavMenu = clickedNavMenu;
        }
    }
}

// Display navbar is-fixed-top navbar
if (mq.matches) {
    document.getElementById("navbarpsa").classList.add("bluenavbar");
}
else {
    
    window.onscroll = function() {scrollFunction()};
    

        function scrollFunction() {
        if (document.body.scrollTop > 96 || document.documentElement.scrollTop > 96) {
        document.getElementById("navbarpsa").classList.add("bluenavbar");
        } else {
        document.getElementById("navbarpsa").classList.remove("bluenavbar");
        }
    } 
}
</script>

        </div>
        
        <div class="hero-body">
            <div class="container">
            
            <h1 class="title section-title">API</h1>
            <h2 class="title">Specifications</h2>
            
            </div>
        </div>
        
    </section><section id="article">
    <div class="columns is-gapless">
        <div class="column is-narrow is-hidden-mobile"> 
            
            <aside class="menu">
                <span class="menu-title">
                    
                        
                        
                        
                        
                    
                        
                        Cloud API
                        
                        
                        
                        - Data treatment
                        
                        
                    
                        
                        
                        
                        
                    
                </span>
                                    <p href="/mph05/ApiSpec/specifications/data-treatment/overview/" class='menu-label has-list' id="Overview">
                                        <span>
                                            Overview
                                        </span>
                                    </p>
                                    <ul class="menu-list">
                                        <li>
                                            <a  href="/mph05/ApiSpec/specifications/data-treatment/overview/about/#article">
                                                About 
                                            </a>
                                        </li>
                                        <li>
                                            <a  href="/mph05/ApiSpec/specifications/data-treatment/overview/api-concepts/#article">
                                                API Concepts 
                                            </a>
                                        </li>
                                        <li>
                                            <a  href="/mph05/ApiSpec/specifications/data-treatment/overview/errors/#article">
                                                Errors & Rate Limit 
                                            </a>
                                        </li>
                                        <li>
                                            <a  href="/mph05/ApiSpec/specifications/data-treatment/overview/data-scope/#article">
                                                Data Scope 
                                            </a>
                                        </li>
                                        
                                    </ul>
                                    
                                    <p href="/mph05/ApiSpec/specifications/data-treatment/monitor/" class='menu-label has-list' id="Monitor">
                                        <span>
                                            Monitor
                                        </span>
                                    </p>
                                    <ul class="menu-list">
                                        <li>
                                            <a  href="/mph05/ApiSpec/specifications/data-treatment/monitor/about-monitors/#article">
                                                About Monitors 
                                            </a>
                                        </li>
                                        <li>
                                            <a  href="/mph05/ApiSpec/specifications/data-treatment/monitor/set-up/#article">
                                                Set Up 
                                            </a>
                                        </li>
                                        <li>
                                            <a  href="/mph05/ApiSpec/specifications/data-treatment/monitor/retry-policy/#article">
                                                Retry Policy 
                                            </a>
                                        </li>
                                        <li>
                                            <a  href="/mph05/ApiSpec/specifications/data-treatment/monitor/server-specification/#article">
                                                Server Specification 
                                            </a>
                                        </li>
                                        
                                    </ul>
                                    
                                    <p href="/mph05/ApiSpec/specifications/data-treatment/remote/" class='menu-label has-list' id="Remote">
                                        <span>
                                            Remote
                                        </span>
                                    </p>
                                    <ul class="menu-list">
                                        <li>
                                            <a  href="/mph05/ApiSpec/specifications/data-treatment/remote/about-remotes/#article">
                                                About Remotes 
                                            </a>
                                        </li>
                                        <li>
                                            <a  href="/mph05/ApiSpec/specifications/data-treatment/remote/set-up/#article">
                                                Set Up 
                                            </a>
                                        </li>
                                        <li>
                                            <a  href="/mph05/ApiSpec/specifications/data-treatment/remote/retry-policy/#article">
                                                Retry Policy 
                                            </a>
                                        </li>
                                        <li>
                                            <a  href="/mph05/ApiSpec/specifications/data-treatment/remote/notifications-and-errors/#article">
                                                Notifications and Errors 
                                            </a>
                                        </li>
                                        <li>
                                            <a  href="/mph05/ApiSpec/specifications/data-treatment/remote/server-specification/#article">
                                                Server Specification 
                                            </a>
                                        </li>
                                        
                                    </ul>
                                    
                                    <p href="/mph05/ApiSpec/specifications/data-treatment/quickstart/b2b/" class='menu-label has-list' id="Partners">
                                        <span>
                                            Partners
                                        </span>
                                    </p>
                                    <ul class="menu-list">
                                        <li>
                                            <a  href="/mph05/ApiSpec/specifications/data-treatment/quickstart/b2b/auth/#article">
                                                Authentication 
                                            </a>
                                        </li>
                                        <li>
                                            <a  href="/mph05/ApiSpec/specifications/data-treatment/quickstart/b2b/examples/#article">
                                                Examples 
                                            </a>
                                        </li>
                                        
                                    </ul>
                                    
                                    <p href="/mph05/ApiSpec/specifications/data-treatment/quickstart/b2b2c/" class='menu-label has-list' id="ExVe (Extended Vehicle)">
                                        <span>
                                            ExVe (Extended Vehicle)
                                        </span>
                                    </p>
                                    <ul class="menu-list">
                                        <li>
                                            <a  href="/mph05/ApiSpec/specifications/data-treatment/quickstart/b2b2c/about-authentication/#article">
                                                Authentication 
                                            </a>
                                        </li>
                                        <li>
                                            <a  href="/mph05/ApiSpec/specifications/data-treatment/quickstart/b2b2c/data-availability-scopes/#article">
                                                Data Availability and Scopes 
                                            </a>
                                        </li>
                                        <li>
                                            <a  href="/mph05/ApiSpec/specifications/data-treatment/quickstart/b2b2c/app-registration/#article">
                                                App Registration 
                                            </a>
                                        </li>
                                        <li>
                                            <a class="is-active" href="/mph05/ApiSpec/specifications/data-treatment/quickstart/b2b2c/enroll-end-users/#article">
                                                Enroll End-Users 
                                            </a>
                                        </li>
                                        <li>
                                            <a  href="/mph05/ApiSpec/specifications/data-treatment/quickstart/b2b2c/acess-end-user-data/#article">
                                                Access End-User Data 
                                            </a>
                                        </li>
                                        <li>
                                            <a  href="/mph05/ApiSpec/specifications/data-treatment/quickstart/b2b2c/end-user-journey/#article">
                                                End-User Journey 
                                            </a>
                                        </li>
                                        <li>
                                            <a  href="/mph05/ApiSpec/specifications/data-treatment/quickstart/b2b2c/request-examples/#article">
                                                Request Examples 
                                            </a>
                                        </li>
                                        
                                    </ul>
                                    
                                    <p href="/mph05/ApiSpec/specifications/data-treatment/" class='menu-label has-list' id="API Reference">
                                        <span>
                                            API Reference
                                        </span>
                                    </p>
                                    <ul class="menu-list">
                                        <li>
                                            <a  href="/mph05/ApiSpec/specifications/data-treatment/api-reference/#article">
                                                API Reference 
                                            </a>
                                        </li>
                                        <li>
                                            <a  href="/mph05/ApiSpec/specifications/data-treatment/changelog/#article">
                                                API Changelog 
                                            </a>
                                        </li>
                                        
                                    </ul>
                                    </aside>
            
        </div>
        <main class="column">
            <div class="content">
                

<div class="content-header" >
    <div class="page-title-container"><h1 id="page-title">
        
            <span>
                
                    Quickstart - 
                
                    Enroll End-Users
            </span>
        
        </h1>
        <div class="menu-select"> 
            <div class="select page-select">
                <select>
                            
                                    

                                        
                                            

                                                <optgroup label="Overview">
                                                    

                                                        

                                                        <option 
                                                            value="/specifications/data-treatment/overview/about/#article" 
                                                            >
                                                                About
                                                        </option>

                                                    

                                                        

                                                        <option 
                                                            value="/specifications/data-treatment/overview/api-concepts/#article" 
                                                            >
                                                                API Concepts
                                                        </option>

                                                    

                                                        

                                                        <option 
                                                            value="/specifications/data-treatment/overview/errors/#article" 
                                                            >
                                                                Errors & Rate Limit
                                                        </option>

                                                    

                                                        

                                                        <option 
                                                            value="/specifications/data-treatment/overview/data-scope/#article" 
                                                            >
                                                                Data Scope
                                                        </option>

                                                    
                                                </optgroup>
                                            
                                        
                                            

                                                <optgroup label="Monitor">
                                                    

                                                        

                                                        <option 
                                                            value="/specifications/data-treatment/monitor/about-monitors/#article" 
                                                            >
                                                                About Monitors
                                                        </option>

                                                    

                                                        

                                                        <option 
                                                            value="/specifications/data-treatment/monitor/set-up/#article" 
                                                            >
                                                                Set Up
                                                        </option>

                                                    

                                                        

                                                        <option 
                                                            value="/specifications/data-treatment/monitor/retry-policy/#article" 
                                                            >
                                                                Retry Policy
                                                        </option>

                                                    

                                                        

                                                        <option 
                                                            value="/specifications/data-treatment/monitor/server-specification/#article" 
                                                            >
                                                                Server Specification
                                                        </option>

                                                    
                                                </optgroup>
                                            
                                        
                                            

                                                <optgroup label="Remote">
                                                    

                                                        

                                                        <option 
                                                            value="/specifications/data-treatment/remote/about-remotes/#article" 
                                                            >
                                                                About Remotes
                                                        </option>

                                                    

                                                        

                                                        <option 
                                                            value="/specifications/data-treatment/remote/set-up/#article" 
                                                            >
                                                                Set Up
                                                        </option>

                                                    

                                                        

                                                        <option 
                                                            value="/specifications/data-treatment/remote/retry-policy/#article" 
                                                            >
                                                                Retry Policy
                                                        </option>

                                                    

                                                        

                                                        <option 
                                                            value="/specifications/data-treatment/remote/notifications-and-errors/#article" 
                                                            >
                                                                Notifications and Errors
                                                        </option>

                                                    

                                                        

                                                        <option 
                                                            value="/specifications/data-treatment/remote/server-specification/#article" 
                                                            >
                                                                Server Specification
                                                        </option>

                                                    
                                                </optgroup>
                                            
                                        
                                            

                                                <optgroup label="Partners">
                                                    

                                                        

                                                        <option 
                                                            value="/specifications/data-treatment/quickstart/b2b/auth/#article" 
                                                            >
                                                                Authentication
                                                        </option>

                                                    

                                                        

                                                        <option 
                                                            value="/specifications/data-treatment/quickstart/b2b/examples/#article" 
                                                            >
                                                                Examples
                                                        </option>

                                                    
                                                </optgroup>
                                            
                                        
                                            

                                                <optgroup label="ExVe (Extended Vehicle)">
                                                    

                                                        

                                                        <option 
                                                            value="/specifications/data-treatment/quickstart/b2b2c/about-authentication/#article" 
                                                            >
                                                                Authentication
                                                        </option>

                                                    

                                                        

                                                        <option 
                                                            value="/specifications/data-treatment/quickstart/b2b2c/data-availability-scopes/#article" 
                                                            >
                                                                Data Availability and Scopes
                                                        </option>

                                                    

                                                        

                                                        <option 
                                                            value="/specifications/data-treatment/quickstart/b2b2c/app-registration/#article" 
                                                            >
                                                                App Registration
                                                        </option>

                                                    

                                                        

                                                        <option 
                                                            value="/specifications/data-treatment/quickstart/b2b2c/enroll-end-users/#article" 
                                                            selected>
                                                                Enroll End-Users
                                                        </option>

                                                    

                                                        

                                                        <option 
                                                            value="/specifications/data-treatment/quickstart/b2b2c/acess-end-user-data/#article" 
                                                            >
                                                                Access End-User Data
                                                        </option>

                                                    

                                                        

                                                        <option 
                                                            value="/specifications/data-treatment/quickstart/b2b2c/end-user-journey/#article" 
                                                            >
                                                                End-User Journey
                                                        </option>

                                                    

                                                        

                                                        <option 
                                                            value="/specifications/data-treatment/quickstart/b2b2c/request-examples/#article" 
                                                            >
                                                                Request Examples
                                                        </option>

                                                    
                                                </optgroup>
                                            
                                        
                                            

                                                <optgroup label="API Reference">
                                                    

                                                        

                                                        <option 
                                                            value="/specifications/data-treatment/api-reference/#article" 
                                                            >
                                                                API Reference
                                                        </option>

                                                    

                                                        

                                                        <option 
                                                            value="/specifications/data-treatment/changelog/#article" 
                                                            >
                                                                API Changelog
                                                        </option>

                                                    
                                                </optgroup>
                                            
                                        </select>
            </div>
        </div><div class="is-flex is-justify-content-center is-align-items-baseline">
        
        <a 
            
            href="specifications/data-treatment/content/data-treatment-b2b2c-quickstart-enroll_users.md"
             
            class="button is-small edit-page icon-button is-outlined is-pulled-right" 
            target="_blank" 
            title="Edit this page on GitHub">
                <span class="icon">
                    <i  class="fab fa-github"></i> 
                </span>
                <span class="edit-page-text">
                    Edit
                </span>
        </a>
        
        
<a
  href='https://jira-it2.mpsa.com/secure/CreateIssueDetails!init.jspa?pid=54650&summary=%5BSPECIFICATIONS-DATA-TREATMENT-+Quickstart%5D+Enroll+End-Users&issuetype=10401&assignee=e570958&priority=4&description=PAGE+Link%3A+%2Fmph05%2FApiSpec%2Fspecifications%2Fdata-treatment%2Fquickstart%2Fb2b2c%2Fenroll-end-users%2F&components=191188'
  class="button edit-page icon-button is-outlined is-pulled-right is-small"
  target="_blank"
  title="Create Jira ticket about this page"
>
  <span class="icon">
    <i class="fab fa-jira"></i>
  </span>
  <span class="edit-page-text">
    Jira
  </span>
</a>
    
    </div></div><nav class="breadcrumb" aria-label="breadcrumbs">
        <ul>
            <li>
                <a href="/mph05/ApiSpec/">Home</a>
            </li>
            
            <li>
                <a href="/mph05/ApiSpec/specifications/">Cloud API</a>
            </li>
            
            
            <li>
                <a href="/mph05/ApiSpec/specifications/data-treatment/">Data treatment</a>
            </li>
            
            
            <li>
                <a href="/mph05/ApiSpec/specifications/data-treatment/"></a>
            </li>
            
            <li>
                <a href="#article" aria-current="page">
                    Enroll End-Users
                </a>
            </li>
        </ul>
    </nav></div>

<script>

    function selectPage(e){
        
    }

    document.querySelector(".page-select").addEventListener("change", (e) => {
        window.location.href = "/mph05/ApiSpec"+e.target.value;
    });


</script>
                
                <div class="notification notification-empty-bg">


<p><strong>Requirement</strong>:</p>
<ul>
  <li>👤 A <a href="/mph05/ApiSpec/specifications/data-treatment/quickstart/b2b2c/app-registration/#article">registered Application</a> in Stellantis systems and <a href="/mph05/ApiSpec/specifications/data-treatment/quickstart/b2b2c/app-registration/#2%EF%B8%8F⃣-generates-encryption-keys--csr">its credentials</a>.</li>
  <li>🔑 Your Application <a href="/mph05/ApiSpec/specifications/data-treatment/quickstart/b2b2c/app-registration/#2%EF%B8%8F⃣-generates-encryption-keys--csr">private key</a>.</li>
</ul>

<p><strong>Tutorial Output</strong>:</p>
<ul>
  <li>🪙 An Access Token allowing requesting data about a user enrolled in your App.</li>
</ul>

</div>

<p>This tutorial explains how to enroll an End User in order to obtain an <strong>Access Token</strong> using the <strong>OAuth2</strong> Authorization Code Flow. This token allows <strong>requesting data</strong> about the user.</p>

<p>First, we will need to verify if the <a href="#1️⃣-vehicle-capabilities">vehicle is eligible</a> for your use case. Then, we will see how to implement the <strong>OAuth2 Authorization Code Flow</strong> by creating the  <a href="#2️⃣-request-consent">consent request</a> in your App and finally, to exchange the Authorization Code against the <a href="#3️⃣-access-token">access token</a>.</p>
      <h2 id="manufacturers-brands--realms">
        <span class="bd-anchor-name">
        
          Manufacturers Brands &amp; Realms
                  </span>
 <a href="#manufacturers-brands--realms" class="bd-anchor-link">#</a>
        
        
      </h2>
<p><code class="language-plaintext highlighter-rouge">--To Be Updated--</code></p>

<p>In this tutorial API calls require the manufacturer <strong>{brand.tld} or &lt;realm&gt;</strong>. They both depends on the vehicle brand and should be retrieved on your side based on the vehicle VIN. Available realms are:</p>

<table>
  <thead>
    <tr>
      <th>Manufacturer Brand</th>
      <th>{brand.tld}</th>
      <th>&lt;realm&gt;</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Peugeot</td>
      <td>peugeot.com</td>
      <td><code class="language-plaintext highlighter-rouge">clientsB2CPeugot/OTPPeugeot</code></td>
    </tr>
    <tr>
      <td>Citroën</td>
      <td>citroen.com</td>
      <td><code class="language-plaintext highlighter-rouge">clientsB2CCitroen/OTPCitroen</code></td>
    </tr>
    <tr>
      <td>DS</td>
      <td>driveds.com</td>
      <td><code class="language-plaintext highlighter-rouge">clientsB2CDS/OTPDS</code></td>
    </tr>
    <tr>
      <td>Opel</td>
      <td>opel.com</td>
      <td><code class="language-plaintext highlighter-rouge">clientsB2COpel/OTPOpel</code></td>
    </tr>
    <tr>
      <td>Vauxhall</td>
      <td>vauxhall.co.uk</td>
      <td><code class="language-plaintext highlighter-rouge">clientsB2CVauxhall/OTPVauxhall</code></td>
    </tr>
  </tbody>
</table>
    
      <h2 id="1️⃣-vehicle-capabilities">
        <span class="bd-anchor-name">
        
          1️⃣ Vehicle Capabilities
                  </span>
 <a href="#1️⃣-vehicle-capabilities" class="bd-anchor-link">#</a>
        
        
      </h2>

<p>First of all, before enrolling an end user, you must make sure that the targeted vehicle is eligible to your application use case.</p>

<p>Indeed, as explained in <a href="/mph05/ApiSpec/specifications/data-treatment/quickstart/b2b2c/data-availability-scopes/#article">Data Availability &amp; Scopes</a>, all vehicles are not able to generate all the data listed in <a href="/mph05/ApiSpec/webapi/b2c/api-reference/references/#article">API Reference</a>. When data is not generated by a vehicle, the field or object is not outputted in the API response.</p>

<p>That’s why you need to verify that a vehicle is able to provide the data required for your application use case. It can be done using the <strong>capability API</strong>.</p>

<p><img src="/mph05/ApiSpec/assets/images/b2c-vhcl-capabilities.png" alt="b2c-vhcl-capabilities" style="width: 550px" /></p>

<p>The capability API will return the <strong>technical capabilities</strong> of the vehicles in terms of datasets. These capability datasets are subsets of <a href="/mph05/ApiSpec/specifications/data-treatment/quickstart/b2b2c/data-availability-scopes/#list-of-scopes">vehicles scopes</a>. Relations between APIs endpoints, data &amp; scopes can be found in the <a href="/mph05/ApiSpec/connected-vehicles/data-catalog/#article">Data Catalog</a> (each data has a <em>“Scopes”</em> section) and the <a href="/mph05/ApiSpec/webapi/b2c/api-reference/references/#article">API Reference</a> (APIs endpoints have an <em>“authorization&gt;scope”</em> dropdown).</p>

<p>Using the response of the capability API, and knowing the required data for your use case, you can determine whether the vehicle is <strong>eligible to your service or not</strong>. If the vehicle is not eligible, you must not enroll the user under this use case, but you can find a fallback use case fitting the vehicle capabilities.</p>

<p>For example if your use case requires the vehicle location, but the scope <code class="language-plaintext highlighter-rouge">data:position</code> is not returned in the capability API response for this vehicle, then you should probably not offer your service to this user.</p>

<blockquote>
  <p><strong>Technical capability &amp; Vehicle eligibility:</strong> a data being available within the capability API doesn’t mean that the user is able to subscribe third party services, checkout <a href="/mph05/ApiSpec/specifications/data-treatment/quickstart/b2b2c/data-availability-scopes/#-vehicle-data-upload">vehicle services</a>.</p>
</blockquote>
    
      <h4 id="capability-api-example">
        <span class="bd-anchor-name">
        
          Capability API Example
                  </span>

        
        
      </h4>

<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Name</th>
      <th>Value</th>
      <th>Description</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Path Parameter</td>
      <td><code class="language-plaintext highlighter-rouge">{vin}</code></td>
      <td><code class="language-plaintext highlighter-rouge">{vin}</code></td>
      <td>Vehicle VIN to check.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>Query Parameter</td>
      <td><code class="language-plaintext highlighter-rouge">client_id</code></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;client_id&gt;</code></td>
      <td><em>Client Id</em> of your application.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>Query Parameter</td>
      <td><code class="language-plaintext highlighter-rouge">extension</code></td>
      <td><code class="language-plaintext highlighter-rouge">onboardCapabilities</code></td>
      <td>Filters only capability data of this API.</td>
      <td>No</td>
    </tr>
    <tr>
      <td>Header</td>
      <td><code class="language-plaintext highlighter-rouge">x-introspect-realm</code></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;realm&gt;</code></td>
      <td>Vehicle manufacturer <a href="#manufacturers-brands--realms">realm</a>.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>File</td>
      <td>Client Certificate</td>
      <td><code class="language-plaintext highlighter-rouge">path/to/client_certificate.pem</code></td>
      <td>Your SSL certificate for authentication in Stelantis network.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>File</td>
      <td>Private Key</td>
      <td><code class="language-plaintext highlighter-rouge">path/to/key.pem</code></td>
      <td>Your Private Key file.</td>
      <td>Yes</td>
    </tr>
  </tbody>
</table>

<div id="-" class="api-content-code api-code-content-webapi" style="margin-bottom: 1.5rem;"><div class="api-code-header">

  

    <a class="api-code-header-text api-code-header-get" href="/mph05/ApiSpec">
      GET |&nbsp;</a>
  </div>
  <div class="code-block first-block kotlin">
    <div class="api-code-header">
      <div class="api-code-tabs-container">
        <nav class="api-code-tabs">
          <div class="api-code-tab kotlin">
            <span class="api-code-tab-icon is-white">
              <i class="fas fa-long-arrow-alt-up"></i>
            </span>
            <span class="api-code-tab-text">HTTP Request</span>
          </div>
          
        </nav>
      </div>
    </div>
    <div class="api-content-code-example api-content-code-example-req-kotlin">
        
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>curl <span class="se">\</span>
  <span class="nt">--GET</span> <span class="se">\</span>
  <span class="nt">--url</span> https://apim.datachain.iov.staging.vhl-iov.private/v1/accounts/vehicles/<span class="o">{</span>vin<span class="o">}</span>/capability <span class="se">\</span>
  <span class="nt">--data</span> <span class="s1">'client_id=&lt;client_id&gt;'</span> <span class="se">\</span>
  <span class="nt">--header</span> <span class="s1">'Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span> <span class="se">\</span>
  <span class="nt">--cert</span> <span class="s1">'path/to/client_cert.pem[:&lt;cert_password&gt;]'</span> <span class="se">\</span>
  <span class="nt">--key</span> <span class="s1">'path/to/key.pem'</span> <span class="se">\</span>
</pre></td></tr></tbody></table></code></pre></div></div>

    </div>
    <div class="api-content-code-example api-content-code-example-req-swift">
      
    </div>
  </div>
  
  <div class="code-block first-block kotlin">
    <div class="api-code-header">
      <div class="api-code-tabs-container">
        <nav class="api-code-tabs">
          <div class="api-code-tab kotlin">
            <span class="api-code-tab-icon is-white">
              <i class="fas fa-long-arrow-alt-down"></i>
            </span>
            <span class="api-code-tab-text">HTTP Response 200</span>
          </div>
        </nav>
      </div>
    </div>
    <div class="api-content-code-example api-content-code-example-req-kotlin">
        
<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
</pre></td><td class="rouge-code"><pre><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Date</span><span class="p">:</span> <span class="s">Day, XX Mon YYYY HH:MM:SS GMT</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"vin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VR3ZZCLOE07021000"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"83"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"model"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A5U"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"motorization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thermic"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"onboardCapabilities"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"data:telemetry:vehicle:preconditioning"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data:telemetry:vehicle:doorsState"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data:telemetry:vehicle:ignition"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data:telemetry:vehicle:maintenance"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data:telemetry:vehicle:drivingBehaviour"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data:telemetry:vehicle:odometer"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data:alert"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data:telemetry:vehicle:transmission"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data:telemetry:vehicle:engines"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data:telemetry:vehicle:battery"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data:telemetry:vehicle:lightingSystem"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data:telemetry:vehicle"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data:telemetry:vehicle:energies"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data:collision"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data:telemetry:vehicle:kinetic"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data:telemetry:privacy"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data:telemetry:vehicle:adas"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data:trip"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data:telemetry"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data:telemetry:vehicle:environment"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data:telemetry:vehicle:safety"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data:position"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"remote"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"preconditioning"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"supported"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"scopeName"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"remote:preconditioning:write"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"parameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"program"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
            </span><span class="nl">"temperature"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"immediate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nl">"settings"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"charging"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"supported"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"scopeName"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"remote:charging:write"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"parameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"programs"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"supported"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"occurrence"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"minChargingLevel"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxChargingLevel"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"door"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"supported"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"scopeName"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"remote:door:write"</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"horn"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"supported"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"scopeName"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"remote:horn:write"</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"lights"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"supported"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"scopeName"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"remote:lights:write"</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"wakeup"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"supported"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"scopeName"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"remote:wakeup:write"</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"navigation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"supported"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"scopeName"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"remote:navigation:write"</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"stolen"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"supported"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"vehicleFinder"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"supported"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"scopeName"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"remote:vehicleFinder:write"</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"onBoardPersonalData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"supported"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"scopeName"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"remote:onboardPersonalData:write"</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"tanSuppress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"supported"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"pnc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"supported"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"scopeName"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"remote:pnc:contractInfo:write"</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>


    </div>
  </div>
  </div>
    
      <h2 id="2️⃣-request-consent">
        <span class="bd-anchor-name">
        
          2️⃣ Request Consent
                  </span>
 <a href="#2️⃣-request-consent" class="bd-anchor-link">#</a>
        
        
      </h2>

<p><img src="/mph05/ApiSpec/assets/images/b2c-enroll-users.svg" alt="b2c-enroll-users" style="width:400px" /></p>
    
      <h2 id="2️⃣1️⃣-authorization-request">
        <span class="bd-anchor-name">
        
          2️⃣•1️⃣ Authorization Request
                  </span>
 <a href="#2️⃣1️⃣-authorization-request" class="bd-anchor-link">#</a>
        
        
      </h2>

<p>In order to enroll an End User, you have to trigger the following HTTP authorization request from your App in the End User device. This process is called <strong>OAuth2 Authorization Code Flow</strong> and is widely defined in <a href="https://datatracker.ietf.org/doc/html/rfc6749">RFC 6749</a>.</p>

<p>This will prompt an external user agent (web view) where the End User will be able to log in and authorize access to its Stellantis account. The following parameters are required:</p>

<blockquote>
  <p><strong>Scopes</strong>: scopes are sets of data that a Ressource Owner can share to a third-party application through this authorization process. List of scope is <a href="/mph05/ApiSpec/specifications/data-treatment/quickstart/b2b2c/data-availability-scopes/#list-of-scopes">available here</a>. You can also browse individual data and their scopes in the <a href="/mph05/ApiSpec/connected-vehicles/data-catalog/#article">Data Catalog</a>.</p>
</blockquote>

<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Name</th>
      <th>Value</th>
      <th>Description</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Path Parameter</td>
      <td><code class="language-plaintext highlighter-rouge">{brand.tld}</code></td>
      <td><code class="language-plaintext highlighter-rouge">{brand.tld}</code></td>
      <td>Vehicle manufacturer <a href="#manufacturers-brands--realms">brand.tld</a>.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>Query Parameter</td>
      <td><code class="language-plaintext highlighter-rouge">client_id</code></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;client_id&gt;</code></td>
      <td><a href="/mph05/ApiSpec/specifications/data-treatment/quickstart/b2b2c/app-registration/#article">Client id</a> of your application.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>Query Parameter</td>
      <td><code class="language-plaintext highlighter-rouge">response_type</code></td>
      <td><code class="language-plaintext highlighter-rouge">code</code></td>
      <td>Use OAuth2 Authorization code flow.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>Query Parameter</td>
      <td><code class="language-plaintext highlighter-rouge">scope</code></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;scope1&gt;,&lt;scope2&gt;,etc.</code></td>
      <td>The list of scopes requested to your customer (Ressource Owner).</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>Query Parameter</td>
      <td><code class="language-plaintext highlighter-rouge">redirect_uri</code></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;redirect_uri&gt;</code></td>
      <td>The URI address to redirect the user at the end of the authorization process.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>Query Parameter</td>
      <td><code class="language-plaintext highlighter-rouge">state</code></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;state&gt;</code></td>
      <td>A state value generated on your side, it will be returned along with the <a href="#2️⃣•4️⃣-authorization-code">Authorization Code</a> in the redirection. Recommended, checking this parameter when it’s returned allows tracking and identifying the request, and prevent attacks.</td>
      <td>No</td>
    </tr>
    <tr>
      <td>Query Parameter</td>
      <td><code class="language-plaintext highlighter-rouge">local</code></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;local&gt;</code></td>
      <td>End user browser language (by default, en-GB). Possible values: <em>ar-EG,cs-CZ,da-DK,de-AT,de-CH,de-DE,en-AU,en-EG,en-GB,en-IE,en-JP,en-MT,en-NZ,en-ZA,es-AR,es-CL,es-ES,es-MX,et-EE,fi-FI,fr-BE,fr-CH,fr-DZ,fr-FR,fr-LU,fr-MA,fr-MQ,fr-RE,fr-TN,hr-HR,hu-HU,it-CH,it-IT,nb-NO,nl-BE,nl-NL,pl-PL,pt-BR,pt-PT,ru-RU,ru-UA,sk-SK,sl-SI,sv-SE,tr-TR,uk-UA,ar-DZ,ar-MA,ar-PS,el-GR,es-CO,es-PE,fa-IR,fr-GF,fr-GP,fr-MG,he-IL,ja-JP,ko-KR,en-PS,ar-SA,en-SA,ar-AE,en-AE,en-SG,es-UY,en-MY,en-BN,ro-RO,mk-MK,es-EC,en-ES,fr-LB,en-LB,bg-BG,sr-RS,en-CY,fr-NC,es-CR,es-PY,is-IS,en-IS,fr-SN,en-IN,en-JO,en-MU,lv-LV,lt-LT,zh-TW</em>.</td>
      <td>No</td>
    </tr>
  </tbody>
</table>

<div id="-" class="api-content-code api-code-content-webapi" style="margin-bottom: 1.5rem;"><div class="api-code-header">

  

    <a class="api-code-header-text api-code-header-get" href="/mph05/ApiSpec">
      GET |&nbsp;</a>
  </div>
  <div class="code-block first-block kotlin">
    <div class="api-code-header">
      <div class="api-code-tabs-container">
        <nav class="api-code-tabs">
          <div class="api-code-tab kotlin">
            <span class="api-code-tab-icon is-white">
              <i class="fas fa-long-arrow-alt-up"></i>
            </span>
            <span class="api-code-tab-text">HTTP Request</span>
          </div>
          
        </nav>
      </div>
    </div>
    <div class="api-content-code-example api-content-code-example-req-kotlin">
        
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>curl <span class="se">\</span>
  <span class="nt">--GET</span> <span class="se">\</span>
  <span class="nt">--url</span> /authorize <span class="se">\</span>
  <span class="nt">--data</span> <span class="s1">'client_id=&lt;client_id&gt;'</span> <span class="se">\</span>
  <span class="nt">--header</span> <span class="s1">'Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span> <span class="se">\</span>
  <span class="nt">--cert</span> <span class="s1">'path/to/client_cert.pem[:&lt;cert_password&gt;]'</span> <span class="se">\</span>
  <span class="nt">--key</span> <span class="s1">'path/to/key.pem'</span> <span class="se">\</span>
</pre></td></tr></tbody></table></code></pre></div></div>

    </div>
    <div class="api-content-code-example api-content-code-example-req-swift">
      
    </div>
  </div>
  </div>
    
      <h2 id="2️⃣2️⃣-prompt-triggering">
        <span class="bd-anchor-name">
        
          2️⃣•2️⃣ Prompt Triggering
                  </span>
 <a href="#2️⃣2️⃣-prompt-triggering" class="bd-anchor-link">#</a>
        
        
      </h2>

<p>Before the Authorization prompt is triggered, Stellantis performs the following checks on the request:</p>
<ul>
  <li>The <strong>App should be registered</strong> and the <client_id> should exists.</client_id></li>
  <li>The requested <strong>scopes should match</strong> the one declared in the <a href="/mph05/ApiSpec/specifications/data-treatment/quickstart/b2b2c/app-registration/#article">App Registration</a>.</li>
</ul>

<p>In cases these checks are performed successfully, the redirection prompt is sent to the End User device triggering an <strong>external user agent</strong> (web view) on the End User device.</p>
    
      <h2 id="2️⃣3️⃣-user-inputs">
        <span class="bd-anchor-name">
        
          2️⃣•3️⃣ User Inputs
                  </span>
 <a href="#2️⃣3️⃣-user-inputs" class="bd-anchor-link">#</a>
        
        
      </h2>

<p>When the external user agent authorization prompt is triggered by the End User device, you have no more access to the authorization process.</p>

<p>In the prompted external user agent (web view), the user will follow the <strong>consent process</strong> to give access to its Stellantis Account.</p>

<p>The journey of the End User in the prompted external user agent is detailed in the <a href="/mph05/ApiSpec/specifications/data-treatment/quickstart/b2b2c/end-user-journey/#article">User Journey section</a>.</p>

<p><strong>User Journey</strong>: if not previously performed for another Stellantis Connected service, the following steps are required on the End User side before being able to authorize access to its Stellantis Account:</p>
<ul>
  <li><strong>Create an account</strong> in Stellantis system.</li>
  <li><strong>Link a vehicle</strong> to the account.</li>
  <li><strong>Enable connectivity</strong> for partners (accessing party).</li>
</ul>

<blockquote>
  <p><strong>Closing the App:</strong> If the user needs to leave your application during the previous process, the authorization request might fail. In this case, the user needs to <strong>restart</strong> the authorization process from the start.</p>
</blockquote>
    
      <h2 id="2️⃣4️⃣-authorization-code">
        <span class="bd-anchor-name">
        
          2️⃣•4️⃣ Authorization Code
                  </span>
 <a href="#2️⃣4️⃣-authorization-code" class="bd-anchor-link">#</a>
        
        
      </h2>

<p>In the <strong>OAuth2 Authorization Code Flow</strong>, after the Resource Owner consent to share access to its data, an automatic redirection is triggered to the Accessing Party URI. This restriction includes an <strong>Authorization Code</strong> as an URI parameter. This Authorization Code can be exchanged against an <strong>Access Token</strong>.</p>

<p>If the account is <strong>set up properly</strong> (check out <a href="#2️⃣3️⃣-user-inputs">step 2.3</a>), and the End-User <strong>authorizes your App</strong> to access the requested scopes, the redirection URI contains the <strong>Authorization Code</strong>.</p>

<p>The redirect URI will contain the following data as parameters:</p>
<ul>
  <li>The list of <strong>scopes authorized</strong> by the user</li>
  <li><strong>State</strong> value generated on your side from the initial request, for your own use.</li>
  <li>The <strong>authorization code</strong>, this code should be exchanged for an access token.</li>
</ul>

<blockquote>
  <p><strong>State:</strong> This state is for your own use. In order to mitigate <strong>CSRF</strong> attacks, you should make sure that the state value received in 2.3 is a state value that you have generated in step 2.1.
<br />This state being generated on your side, you can also use it to <strong>embed data</strong> in step 2.1 for future use in step 2.3. Doing so, it’s possible to <strong>track the request</strong> and to notify your user if a consent request has been initialized but not completed.</p>
</blockquote>

<div id="-" class="api-content-code api-code-content-webapi" style="margin-bottom: 1.5rem;"><div class="api-code-header">

  

    <a class="api-code-header-text api-code-header-get" href="/mph05/ApiSpec">
      GET |&nbsp;</a>
  </div>
  <div class="code-block first-block kotlin">
    <div class="api-code-header">
      <div class="api-code-tabs-container">
        <nav class="api-code-tabs">
          <div class="api-code-tab kotlin">
            <span class="api-code-tab-icon is-white">
              <i class="fas fa-long-arrow-alt-down"></i>
            </span>
            <span class="api-code-tab-text">HTTP Response 200</span>
          </div>
        </nav>
      </div>
    </div>
    <div class="api-content-code-example api-content-code-example-req-kotlin">
        
<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">302</span> <span class="ne">Found</span>
<span class="na">Date</span><span class="p">:</span> <span class="s">Day, XX Mon YYYY HH:MM:SS GMT</span>
<span class="na">Location</span><span class="p">:</span> <span class="s">http://&lt;app_callback_uri&gt;</span>
<span class="s">          ?scope=ConnectivityForPartners,Remote</span>
<span class="s">          &amp;state=&lt;state&gt;</span>
<span class="s">          &amp;code=&lt;code&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

    </div>
  </div>
  </div>
    
      <h2 id="3️⃣-access-token">
        <span class="bd-anchor-name">
        
          3️⃣ Access Token
                  </span>
 <a href="#3️⃣-access-token" class="bd-anchor-link">#</a>
        
        
      </h2>

<p><img src="/mph05/ApiSpec/assets/images/b2c-request-access-token.svg" alt="b2c-request-access-token" style="width:525px" /></p>

<p>The <strong>Authentication Code</strong> obtained in <a href="#2️⃣-request-consent">step 2</a> should be exchanged against an <strong>Access Token</strong>.</p>

<blockquote>
  <p><strong>Client Secret:</strong> Exchanging the authentication code for an Access Token must be done from <strong>your own server</strong> and not from the Ressource Owner device. Furthermore the API used for this purpose requires your Application Client Secret and this data must remain confidential.</p>
</blockquote>

<p>This API allows requesting access token, it requires the following parameters:</p>

<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Name</th>
      <th>Value</th>
      <th>Description</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Path Parameter</td>
      <td><code class="language-plaintext highlighter-rouge">{brand.tld}</code></td>
      <td><code class="language-plaintext highlighter-rouge">{brand.tld}</code></td>
      <td>Vehicle manufacturer <a href="#manufacturers-brands--realms">brand.tld</a>.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>Header</td>
      <td><code class="language-plaintext highlighter-rouge">authorization: Basic</code></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;base64(&lt;client_id&gt;:&lt;client_secret&gt;)&gt;</code></td>
      <td>Your App <a href="/mph05/ApiSpec/specifications/data-treatment/quickstart/b2b2c/app-registration/#article">Client Id and Secret</a> encoded in base64.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>Header</td>
      <td><code class="language-plaintext highlighter-rouge">content-type</code></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;application/x-www-form-urlencoded&gt;</code></td>
      <td>Content type.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>Data</td>
      <td><code class="language-plaintext highlighter-rouge">grant_type</code></td>
      <td><code class="language-plaintext highlighter-rouge">authorization_code</code></td>
      <td>Use OAuth2 Authorization code flow.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>Data</td>
      <td><code class="language-plaintext highlighter-rouge">redirect_uri</code></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;redirect_uri&gt;</code></td>
      <td>The URI redirection address. It must be the same as in step 2.1.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>Data</td>
      <td><code class="language-plaintext highlighter-rouge">code</code></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;code&gt;</code></td>
      <td>The authorization code received in step 2.4.</td>
      <td>Yes</td>
    </tr>
  </tbody>
</table>

<div id="-" class="api-content-code api-code-content-webapi" style="margin-bottom: 1.5rem;"><div class="api-code-header">

  

    <a class="api-code-header-text api-code-header-subscribe" href="/mph05/ApiSpec">
      POST |&nbsp;</a>
  </div>
  <div class="code-block first-block kotlin">
    <div class="api-code-header">
      <div class="api-code-tabs-container">
        <nav class="api-code-tabs">
          <div class="api-code-tab kotlin">
            <span class="api-code-tab-icon is-white">
              <i class="fas fa-long-arrow-alt-up"></i>
            </span>
            <span class="api-code-tab-text">HTTP Request</span>
          </div>
          
        </nav>
      </div>
    </div>
    <div class="api-content-code-example api-content-code-example-req-kotlin">
        
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>curl <span class="se">\</span>
  <span class="nt">--POST</span> <span class="se">\</span>
  <span class="nt">--url</span> /access_token <span class="se">\</span>
  <span class="nt">--data</span> <span class="s1">'client_id=&lt;client_id&gt;'</span> <span class="se">\</span>
  <span class="nt">--header</span> <span class="s1">'Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span> <span class="se">\</span>
  <span class="nt">--cert</span> <span class="s1">'path/to/client_cert.pem[:&lt;cert_password&gt;]'</span> <span class="se">\</span>
  <span class="nt">--key</span> <span class="s1">'path/to/key.pem'</span> <span class="se">\</span>
</pre></td></tr></tbody></table></code></pre></div></div>

    </div>
    <div class="api-content-code-example api-content-code-example-req-swift">
      
    </div>
  </div>
  
  <div class="code-block first-block kotlin">
    <div class="api-code-header">
      <div class="api-code-tabs-container">
        <nav class="api-code-tabs">
          <div class="api-code-tab kotlin">
            <span class="api-code-tab-icon is-white">
              <i class="fas fa-long-arrow-alt-down"></i>
            </span>
            <span class="api-code-tab-text">HTTP Response 200</span>
          </div>
        </nav>
      </div>
    </div>
    <div class="api-content-code-example api-content-code-example-req-kotlin">
        
<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Date</span><span class="p">:</span> <span class="s">Day, XX Mon YYYY HH:MM:SS GMT</span>

{
  "scope": "openid profile",
  "expires_in": &lt;time&gt;,
  "token_type": "Bearer",
  "refresh_token": &lt;refresh_token&gt;,
  "id_token": &lt;id_token&gt;,
  "access_token": &lt;access_token&gt;
}
</pre></td></tr></tbody></table></code></pre></div></div>

    </div>
  </div>
  </div>
    
      <h2 id="renew-token">
        <span class="bd-anchor-name">
        
          Renew Token
                  </span>
 <a href="#renew-token" class="bd-anchor-link">#</a>
        
        
      </h2>

<p>In case the access token expires, you should renew the set of tokens using the following API call from your server.</p>

<p>This request requires that you still have access to the refresh token of <a href="#3️⃣-access-token">step 3</a>.</p>

<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Name</th>
      <th>Value</th>
      <th>Description</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Path Parameter</td>
      <td><code class="language-plaintext highlighter-rouge">{brand.tld}</code></td>
      <td><code class="language-plaintext highlighter-rouge">{brand.tld}</code></td>
      <td>Vehicle manufacturer <a href="#manufacturers-brands--realms">brand.tld</a>.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>Query Parameter</td>
      <td><code class="language-plaintext highlighter-rouge">realm</code></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;realm&gt;</code></td>
      <td>Vehicle manufacturer <a href="#manufacturers-brands--realms">realm</a>.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>Header</td>
      <td><code class="language-plaintext highlighter-rouge">authorization: Basic</code></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;base64(&lt;client_id&gt;:&lt;client_secret&gt;)&gt;</code></td>
      <td>Your App <a href="/mph05/ApiSpec/specifications/data-treatment/quickstart/b2b2c/app-registration/#article">Client id and secret</a> encoded in base64.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>Header</td>
      <td><code class="language-plaintext highlighter-rouge">content-type</code></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;application/x-www-form-urlencoded&gt;</code></td>
      <td>Content type.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>Data</td>
      <td><code class="language-plaintext highlighter-rouge">grant_type</code></td>
      <td><code class="language-plaintext highlighter-rouge">refresh_token</code></td>
      <td>Token renewal.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>Data</td>
      <td><code class="language-plaintext highlighter-rouge">refresh_token</code></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;refresh_token&gt;</code></td>
      <td>Refresh token received in step 3.</td>
      <td>Yes</td>
    </tr>
  </tbody>
</table>

<div id="-" class="api-content-code api-code-content-webapi" style="margin-bottom: 1.5rem;"><div class="api-code-header">

  

    <a class="api-code-header-text api-code-header-subscribe" href="/mph05/ApiSpec">
      POST |&nbsp;</a>
  </div>
  <div class="code-block first-block kotlin">
    <div class="api-code-header">
      <div class="api-code-tabs-container">
        <nav class="api-code-tabs">
          <div class="api-code-tab kotlin">
            <span class="api-code-tab-icon is-white">
              <i class="fas fa-long-arrow-alt-up"></i>
            </span>
            <span class="api-code-tab-text">HTTP Request</span>
          </div>
          
        </nav>
      </div>
    </div>
    <div class="api-content-code-example api-content-code-example-req-kotlin">
        
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>curl <span class="se">\</span>
  <span class="nt">--POST</span> <span class="se">\</span>
  <span class="nt">--url</span> /access_token <span class="se">\</span>
  <span class="nt">--data</span> <span class="s1">'client_id=&lt;client_id&gt;'</span> <span class="se">\</span>
  <span class="nt">--header</span> <span class="s1">'Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span> <span class="se">\</span>
  <span class="nt">--cert</span> <span class="s1">'path/to/client_cert.pem[:&lt;cert_password&gt;]'</span> <span class="se">\</span>
  <span class="nt">--key</span> <span class="s1">'path/to/key.pem'</span> <span class="se">\</span>
</pre></td></tr></tbody></table></code></pre></div></div>

    </div>
    <div class="api-content-code-example api-content-code-example-req-swift">
      
    </div>
  </div>
  
  <div class="code-block first-block kotlin">
    <div class="api-code-header">
      <div class="api-code-tabs-container">
        <nav class="api-code-tabs">
          <div class="api-code-tab kotlin">
            <span class="api-code-tab-icon is-white">
              <i class="fas fa-long-arrow-alt-down"></i>
            </span>
            <span class="api-code-tab-text">HTTP Response 200</span>
          </div>
        </nav>
      </div>
    </div>
    <div class="api-content-code-example api-content-code-example-req-kotlin">
        
<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Date</span><span class="p">:</span> <span class="s">Day, XX Mon YYYY HH:MM:SS GMT</span>

{
    "scope": "openid profile",
    "expires_in": &lt;time&gt;,
    "token_type": "Bearer",
    "refresh_token": &lt;refresh_token&gt;,
    "id_token": &lt;id_token&gt;,
    "access_token": &lt;access_token&gt;
}
</pre></td></tr></tbody></table></code></pre></div></div>

    </div>
  </div>
  </div>
    
      <h2 id="revoke-token-logout-user">
        <span class="bd-anchor-name">
        
          Revoke Token (Logout User)
                  </span>
 <a href="#revoke-token-logout-user" class="bd-anchor-link">#</a>
        
        
      </h2>

<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Name</th>
      <th>Value</th>
      <th>Description</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Path Parameter</td>
      <td><code class="language-plaintext highlighter-rouge">{brand.tld}</code></td>
      <td><code class="language-plaintext highlighter-rouge">{brand.tld}</code></td>
      <td>Vehicle manufacturer <a href="#manufacturers-brands--realms">brand.tld</a>.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>Query Parameter</td>
      <td><code class="language-plaintext highlighter-rouge">realm</code></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;realm&gt;</code></td>
      <td>Vehicle manufacturer <a href="#manufacturers-brands--realms">realm</a>.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>Header</td>
      <td><code class="language-plaintext highlighter-rouge">authorization: Basic</code></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;base64(&lt;client_id&gt;:&lt;client_secret&gt;)&gt;</code></td>
      <td>Your App <a href="/mph05/ApiSpec/specifications/data-treatment/quickstart/b2b2c/app-registration/#article">Client id and secret</a> encoded in base64.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>Header</td>
      <td><code class="language-plaintext highlighter-rouge">content-type</code></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;application/x-www-form-urlencoded&gt;</code></td>
      <td>Content type.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>Data</td>
      <td><code class="language-plaintext highlighter-rouge">token</code></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;refresh_toke OR access_token&gt;</code></td>
      <td>Access or refresh token.</td>
      <td>Yes</td>
    </tr>
  </tbody>
</table>

<p>You should implement a feature in your application if the End User wants to log out.</p>

<p>This action should lead to the revocation of the token:</p>

<div id="-" class="api-content-code api-code-content-webapi" style="margin-bottom: 1.5rem;"><div class="api-code-header">

  

    <a class="api-code-header-text api-code-header-subscribe" href="/mph05/ApiSpec">
      POST |&nbsp;</a>
  </div>
  <div class="code-block first-block kotlin">
    <div class="api-code-header">
      <div class="api-code-tabs-container">
        <nav class="api-code-tabs">
          <div class="api-code-tab kotlin">
            <span class="api-code-tab-icon is-white">
              <i class="fas fa-long-arrow-alt-up"></i>
            </span>
            <span class="api-code-tab-text">HTTP Request</span>
          </div>
          
        </nav>
      </div>
    </div>
    <div class="api-content-code-example api-content-code-example-req-kotlin">
        
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>curl <span class="se">\</span>
  <span class="nt">--POST</span> <span class="se">\</span>
  <span class="nt">--url</span> /token/revoke <span class="se">\</span>
  <span class="nt">--data</span> <span class="s1">'client_id=&lt;client_id&gt;'</span> <span class="se">\</span>
  <span class="nt">--header</span> <span class="s1">'Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span> <span class="se">\</span>
  <span class="nt">--cert</span> <span class="s1">'path/to/client_cert.pem[:&lt;cert_password&gt;]'</span> <span class="se">\</span>
  <span class="nt">--key</span> <span class="s1">'path/to/key.pem'</span> <span class="se">\</span>
</pre></td></tr></tbody></table></code></pre></div></div>

    </div>
    <div class="api-content-code-example api-content-code-example-req-swift">
      
    </div>
  </div>
  
  <div class="code-block first-block kotlin">
    <div class="api-code-header">
      <div class="api-code-tabs-container">
        <nav class="api-code-tabs">
          <div class="api-code-tab kotlin">
            <span class="api-code-tab-icon is-white">
              <i class="fas fa-long-arrow-alt-down"></i>
            </span>
            <span class="api-code-tab-text">HTTP Response 200</span>
          </div>
        </nav>
      </div>
    </div>
    <div class="api-content-code-example api-content-code-example-req-kotlin">
        
<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Date</span><span class="p">:</span> <span class="s">Day, XX Mon YYYY HH:MM:SS GMT</span>
</pre></td></tr></tbody></table></code></pre></div></div>

    </div>
  </div>
  </div>

<blockquote>
  <p><strong>Note:</strong> depending on your needs, it’s possible to revoke the <strong>access token</strong> or the <strong>renew token</strong>. Revoking a refresh token implies the revocation of all associated access token.</p>
</blockquote>
    
      <h4 id="access-user-data">
        <span class="bd-anchor-name">
        
          Access User Data
                  </span>

        
        
      </h4>

<p>Once you have an Access Token, you can <a href="/mph05/ApiSpec/specifications/data-treatment/quickstart/b2b2c/access-end-user-data/#article">build the HTTP request</a> to access this user data.</p>
                
            <div>
        </main>
        
        
        <div class="column is-hidden-touch" id="on-this-page-container">
            <aside id="on-this-page">
            
            
                <div class="bd-anchors-reference" id="anchorsReference"></div>
                <nav class="bd-anchors" id="anchors">
                    <p class="bd-anchors-title">
                        On this page
                    </p>
                    <ul class="bd-anchors-list"></ul>
            </nav>
            

            </aside>
        </div>
        
    </div>
</section><footer class="footer">
    <div class="footer-items">
        <!-- THIS WEBSITE -->
        <div class="footer-item">
        <p class="footer-heading">THIS WEBSITE</p>
        <div class="footer-links">
            <a class="footer-link" href="/mph05/ApiSpec/changelog/#page-title">
            <span class="icon is-white">
                <i class="fas fa-code-branch"></i>
            </span>
            Website v1.0.0
            </a>
            <span class="footer-link">
            <span class="icon is-white">
                <i class="far fa-copyright"></i>
            </span>
            Stellantis 2025
            </span>
        </div>
        </div>
        <!-- /THIS WEBSITE -->
     </div>
    </footer>
    <script type="text/javascript" src="/mph05/ApiSpec/assets/js/api-reference.js"></script>
    </body>
</html>
